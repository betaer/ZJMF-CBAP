<!-- 页面引入样式位置 -->
<link rel="stylesheet" href="/plugins/reserver/mf_cloud/template/clientarea/mobile/overseas/css/cloud_list.css">

<body>
  <div id="product-template" v-cloak class="product-list-page">
    <top-menu></top-menu>
    <div class="top-search">
      <div class="search-title">
        <span>{{lang.my_products}}</span>
        <img @click="showFillter = true" class="fillter-icon"
          src="/plugins/reserver/mf_cloud/template/clientarea/mobile/overseas/img/msg_op_right.svg" alt="">
      </div>
      <van-search class="search-input" v-model="params.keywords" :placeholder="lang.cloud_tip_2" clearable
        @search="inputChange" @clear="inputChange">
      </van-search>
    </div>
    <div class="list-box">
      <van-list v-model:loading="loading" :finished="finished" @load="getCloudList" :immediate-check="false">
        <div class="list-item" v-for="item,index in cloudData" @click="toDetail(item)">
          <div class="item-fir">
            <img :title="item.image_name" class="os-img" v-if="item.image_group_name"
              :src="'/plugins/reserver/mf_cloud/template/clientarea/mobile/overseas/img/mf_cloud/' + item.image_group_name +'.svg'">
            <div class="cloud-name">
              <span class="packge-name">{{ item.product_name }}</span>
              <span class="name">({{ item.name }})</span>
            </div>
          </div>
          <div class="info-box">
            <div class="info-item">
              <div class="info-label">{{lang.finance_text135}}:</div>
              <div class="info-text">
                <img :src="powerStatus[item.power_status]?.icon" v-if="item.power_status"
                  :title="powerStatus[item.power_status]?.text">
                <span v-else>--</span>
              </div>
            </div>
            <div class="info-item">
              <div class="info-label">IP:</div>
              <div class="info-text">
                <span>{{item.ip && item.status!== 'Deleted'?item.ip:'--'}}</span>
              </div>
            </div>
            <div class="info-item">
              <div class="info-label">{{lang.cloud_table_head_4}}:</div>
              <div class="info-text">
                <span v-time="item.due_time"></span>
              </div>
            </div>
            <div class="info-item">
              <div class="info-label">{{lang.cloud_table_head_1}}:</div>
              <div class="info-text">
                <div class="area" v-if="item.country">
                  <img :src="'/upload/common/country/' + item.country_code + '.png'" class="area-img">
                  <span class="area-country">{{item.country}}</span>
                  <span>-{{item.city}}-{{item.area}}</span>
                </div>
              </div>
            </div>
            <div class="info-item">
              <div class="info-label">{{lang.cloud_table_head_3}}:</div>
              <div class="info-text">
                <div class="status"
                  :style="'color:'+status[item.status].color + ';background:' + status[item.status].bgColor">
                  {{status[item.status].text }}
                </div>
              </div>
            </div>
            <div class="info-item" v-if="item.client_notes">
              <div class="info-label">{{lang.invoice_text139}}:</div>
              <div class="info-text">
                <span>{{item.client_notes}}</span>
              </div>
            </div>
            <div class="info-item" v-for="item in self_defined_field">
              <div class="info-label">{{item.field_name}}:</div>
              <div class="info-text">
                <span
                  :class="item.field_type === 'textarea' ? 'word-pre' : ''">{{self_defined_field[item.id] ||  '--'}}</span>
              </div>
            </div>
          </div>
        </div>
      </van-list>
    </div>
    <!-- 余额列表筛选 -->
    <van-popup v-model:show="showFillter" @close="inputChange" teleport="body" position="right"
      :style="{ width: '80%', height: '100%' }">
      <div class="select-box">
        <div class="select-type">
          <div class="select-title">{{lang.cloud_tip_1}}</div>
          <div class="select-main">
            <div class="select-item" :class="this.params.data_center_id === item.id ? 'is-select' : ''"
              v-for="item in center" @click="handelSelectCenter(item)">
              <div class="center-option-label">
                <img :src="'/upload/common/country/' + item.iso + '.png'" class="area-img">
                <span class="option-text">{{item.label}}</span>
              </div>
            </div>
          </div>
        </div>
        <div class="select-type">
          <div class="select-title">{{lang.com_config.select_pro_status}}</div>
          <div class="select-main">
            <div class="select-item" :class="this.params.status === item.status ? 'is-select' : ''"
              v-for="item in statusSelect" @click="handelSelectStatue(item)">
              {{item.label}}
            </div>
          </div>
        </div>
      </div>
    </van-popup>

  </div>

  <!-- =======页面引入js和相关组件位置======= -->
  <script src="/plugins/reserver/mf_cloud/template/clientarea/mobile/overseas/api/cloud.js"></script>
  <script src="/plugins/reserver/mf_cloud/template/clientarea/mobile/overseas/lang/index.js"></script>

  <script src="/plugins/reserver/mf_cloud/template/clientarea/mobile/overseas/js/cloud_list.js"></script>